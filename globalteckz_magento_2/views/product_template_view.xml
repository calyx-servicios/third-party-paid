<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record model="ir.ui.view" id="product_template_form_view_magento">
        <field name="name">product.template for.magento</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="product.product_template_only_form_view" />
        <field name="arch" type="xml">
            <xpath expr="//field[@name='default_code']" position="replace"/>
            <xpath expr="//field[@name='type']" position="after">
                <field name="magento_id" attrs="{'invisible':[('magento_template','=',False)]}"/>
                <field name="magento_sku" string="Magento SKU" attrs="{'invisible':[('magento_template','=',False)]}"/>
                <field name="default_code" string="SKU" attrs="{'invisible':[('magento_template','=',False)]}"/>
                <field name="magento_instance_ids" widget="many2many_tags" attrs="{'invisible':[('magento_template','=',False)]}"/>
                <field name="prod_category_id" widget="many2many_tags" attrs="{'invisible':[('magento_template','=',False)]}"/>
                <field name="prod_attr_category_id"/>
            </xpath>
            <xpath expr="//page[@name='general_information']" position="after">
                <page name="magento_images" string="Magento Images" attrs="{'invisible':[('magento_template','=',False)]}">
                    <field name="prod_images" mode="kanban">
                        <kanban>
                            <field name="name"/>
                            <field name="image"/>
                            <templates>
                                <t t-name="kanban-box">
                                    <div>
                                        <field name="image" widget="image"/>
                                    </div>
                                </t>
                            </templates>
                        </kanban>    
                    </field>
                </page>
            </xpath>    
            <xpath expr="//field[@name='sale_ok']" position="after">
                <div class="oe_left" name="options">
                    <div>
                        <field name="magento_template"/>
                        <label for="magento_template" />
                        <br></br>
                        <field name="magento_exported" readonly="1"/>
                        <label for="magento_exported" />
                    </div>
                </div>
            </xpath>
            <xpath expr="//header" position="inside">
                <button name="GtUpdateMagentoProductTemplate" string="Actualiza Producto M-O" type="object"
                    attrs="{'invisible':[('magento_exported','=', False)]}" />
                <button name="GtUpdateProductImage" string="Actualiza Imagenes M-O" type="object"
                    attrs="{'invisible':[('magento_exported','=', False)]}" />    
            </xpath>
        </field>
    </record>
</odoo>
